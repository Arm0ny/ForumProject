<main *ngIf="activeQuestion$ | async as question" class="flex flex-col p-8 gap-10 lg:w-1/2 lg:m-auto">
  <section class="flex flex-col gap-10">
    <article *ngIf="question" class="flex flex-col bg-secondary rounded p-6 gap-6">
      <header class="flex gap-4">
        <h1 class="text-2xl">{{question.title}}</h1>
        <span *ngIf="activeUser$ | async as activeUser" class="flex gap-2">
            <ng-container *ngIf="activeUser.id === question.user_id">
              <button (click)="onEdit()">Edit</button>
              <button (click)="onDelete(question.id)">Delete</button>
            </ng-container>
        </span>
      </header>
      <div [innerHTML]="question.content | markdownPipe" class="bg-secondary"></div>
    </article>

    <article class="bg-secondary rounded p-6">
      <app-answer-writer *ngIf="activeUser$ | async else loginReminder"></app-answer-writer>
      <ng-template #loginReminder><span><p>You need to be logged to post answers</p><a routerLink="/login">Log In!</a></span></ng-template>
    </article>
  </section>

  <section class="flex flex-col gap-10">
    <ng-container *ngIf="answers$ | async as answers">
      <app-answer-reader *ngFor="let answer of answers" [answer]="answer"></app-answer-reader>
    </ng-container>
  </section>
  <ng-container *ngIf="deleteStream$ | async"></ng-container>
</main>
